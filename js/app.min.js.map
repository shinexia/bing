{"version":3,"sources":["app.js"],"names":["loadIndex","idx","currentIndex","disableButtons","indicator","textContent","fetch","then","resp","json","data","img","images","uri","url","proxy_url","origin_url","elemImage","src","elemDownloadLink","href","imageDate","enddate","imageDesc","copyright","enableButtons","buttonNext","disabled","buttonPrev","loadPrev","loadNext","document","getElementById","window","onload"],"mappings":"AAUA,SAAAA,UAAAC,GACAA,GAAAC,eAGAC,iBACAD,aAAAD,EACAG,UAAAC,YAAAJ,EACAK,MAAA,uEAAAL,EAAA,kDACAM,KAAA,SAAAC,GACA,OAAAA,EAAAC,SAEAF,KAAA,SAAAG,GACA,IAAAC,EAAAD,EAAAE,OAAA,GACAC,EAAAF,EAAAG,IACAC,EAAA,oCAAAF,EACAG,EAAA,uBAAAH,EACAI,UAAAC,IAAAH,EACAI,iBAAAC,KAAAJ,EACAK,UAAAhB,YAAAM,EAAAW,QACAC,UAAAlB,YAAAM,EAAAa,UACAC,mBAIA,SAAAtB,iBACAuB,WAAAC,SAAA,WACAC,WAAAD,SAAA,WAGA,SAAAF,gBACAvB,aAAA,IACA0B,WAAAD,SAAA,IAEAzB,aAAA,IACAwB,WAAAC,SAAA,IAIA,SAAAE,WACA7B,UAAAE,aAAA,GAGA,SAAA4B,WACA9B,UAAAE,aAAA,GApDA,IAAAA,cAAA,EACAe,UAAAc,SAAAC,eAAA,SACAb,iBAAAY,SAAAC,eAAA,gBACAN,WAAAK,SAAAC,eAAA,cACAJ,WAAAG,SAAAC,eAAA,cACA5B,UAAA2B,SAAAC,eAAA,aACAX,UAAAU,SAAAC,eAAA,aACAT,UAAAQ,SAAAC,eAAA,aAgDAC,OAAAC,OAAA,WACAlC,UAAA","file":"app.min.js","sourcesContent":["\nvar currentIndex = -1;\nvar elemImage = document.getElementById(\"image\");\nvar elemDownloadLink = document.getElementById(\"downloadLink\");\nvar buttonNext = document.getElementById(\"buttonNext\");\nvar buttonPrev = document.getElementById(\"buttonPrev\");\nvar indicator = document.getElementById(\"indicator\");\nvar imageDate = document.getElementById(\"imageDate\");\nvar imageDesc = document.getElementById(\"imageDesc\");\n\nfunction loadIndex(idx) {\n  if(idx == currentIndex) {\n    return;\n  }\n  disableButtons();\n  currentIndex = idx;\n  indicator.textContent = idx;\n  fetch(\"https://proxy.xgh.io/www.bing.com/HPImageArchive.aspx?format=js&idx=\" + idx + \"&n=1&mkt=zh-CN&nc=1489309260264&pid=hp&video=1\")\n  .then(function(resp) {\n    return resp.json();\n  })\n  .then(function(data) {\n    var img = data.images[0];\n    var uri = img.url;\n    var proxy_url = \"https://proxy.xgh.io/www.bing.com\" + uri;\n    var origin_url = \"https://www.bing.com\" + uri;\n    elemImage.src = proxy_url;\n    elemDownloadLink.href = origin_url;\n    imageDate.textContent = img.enddate;\n    imageDesc.textContent = img.copyright;\n    enableButtons();\n  });\n}\n\nfunction disableButtons() {\n  buttonNext.disabled = \"disabled\";\n  buttonPrev.disabled = \"disabled\";\n}\n\nfunction enableButtons() {\n  if(currentIndex < 7) {\n    buttonPrev.disabled = \"\";\n  }\n  if(currentIndex > 0) {\n    buttonNext.disabled = \"\";\n  }\n}\n\nfunction loadPrev() {\n  loadIndex(currentIndex + 1);\n}\n\nfunction loadNext() {\n  loadIndex(currentIndex - 1);\n}\n\nwindow.onload = function() {\n  loadIndex(0);\n};\n"]}